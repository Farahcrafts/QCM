<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>TP JavaScript QCM</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .question { margin-bottom: 15px; border-bottom: 1px solid #ccc; padding: 10px; }
        h3 { color: darkblue; }
    </style>
</head>
<body>

    <h1>QCM JavaScript</h1>
    
    <form name="monQCM">
        <div class="question">
            <strong>Q1 : Quels sont des langages Web ?</strong><br>
            <input type="checkbox" id="q1_a"> HTML <br>
            <input type="checkbox" id="q1_b"> C++ <br>
            <input type="checkbox" id="q1_c"> CSS
        </div>

        <div class="question">
            <strong>Q2 : 2 + 2 = ?</strong><br>
            <input type="checkbox" id="q2_a"> 3 <br>
            <input type="checkbox" id="q2_b"> 4 <br>
            <input type="checkbox" id="q2_c"> Quatre
        </div>

        <div class="question">
            <strong>Q3 : Où peut-on mettre du JS ?</strong><br>
            <input type="checkbox" id="q3_a"> Head <br>
            <input type="checkbox" id="q3_b"> Body <br>
            <input type="checkbox" id="q3_c"> Footer
        </div>

        <div class="question">
            <strong>Q4 : JavaScript est un langage compilé.</strong><br>
            <input type="radio" name="q4" id="q4_vrai"> Vrai <br>
            <input type="radio" name="q4" id="q4_faux"> Faux
        </div>

        <div class="question">
            <strong>Q5 : 'Alert' affiche une boite de dialogue.</strong><br>
            <input type="radio" name="q5" id="q5_vrai"> Vrai <br>
            <input type="radio" name="q5" id="q5_faux"> Faux
        </div>

        <input type="button" value="Initialiser" onclick="resetQCM()">
        <input type="button" value="Voir Correction" onclick="afficherCorrection()">
        <input type="button" value="Résultats" onclick="afficherResultat()">
    </form>

    <script>
        // 1. Initialiser (Reset)
        function resetQCM() {
            document.monQCM.reset();
        }

        // 2. Afficher la Correction (Réponses justes en vert/souligné)
        function afficherCorrection() {
            // On ouvre une fenêtre
            let win = window.open("", "Correction", "width=600,height=600");
            
            // On écrit le HTML dedans avec les styles
            let contenu = `
                <html><body>
                <h2>Corrigé du QCM</h2>
                <ul>
                    <li>Q1 : <span style="color:green; text-decoration:underline">HTML, CSS</span></li>
                    <li>Q2 : <span style="color:green; text-decoration:underline">4, Quatre</span></li>
                    <li>Q3 : <span style="color:green; text-decoration:underline">Head, Body</span></li>
                    <li>Q4 : <span style="color:green; text-decoration:underline">Faux</span> (C'est interprété)</li>
                    <li>Q5 : <span style="color:green; text-decoration:underline">Vrai</span></li>
                </ul>
                <button onclick="window.close()">Fermer</button>
                </body></html>
            `;
            win.document.write(contenu);
        }

        // 3. Afficher les Résultats (Vérification dynamique)
        function afficherResultat() {
            let rapport = "<h2>Résultat du Test</h2><ul>";
            
            // Vérification Q1 (HTML et CSS sont vrais)
            // Pour réussir, il faut cocher les bons ET ne pas cocher les mauvais
            let q1 = document.getElementById("q1_a").checked && 
                     document.getElementById("q1_c").checked && 
                     !document.getElementById("q1_b").checked;
            rapport += "<li>Question 1 : " + (q1 ? "Correcte" : "Incorrecte") + "</li>";

            // Vérification Q2 (4 et Quatre)
            let q2 = document.getElementById("q2_b").checked && 
                     document.getElementById("q2_c").checked && 
                     !document.getElementById("q2_a").checked;
            rapport += "<li>Question 2 : " + (q2 ? "Correcte" : "Incorrecte") + "</li>";

             // Vérification Q3 (Head et Body)
             let q3 = document.getElementById("q3_a").checked && 
                      document.getElementById("q3_b").checked && 
                      !document.getElementById("q3_c").checked;
            rapport += "<li>Question 3 : " + (q3 ? "Correcte" : "Incorrecte") + "</li>";

            // Vérification Q4 (Radio - Faux est la bonne réponse)
            let q4 = document.getElementById("q4_faux").checked;
            rapport += "<li>Question 4 : " + (q4 ? "Correcte" : "Incorrecte") + "</li>";

            // Vérification Q5 (Radio - Vrai est la bonne réponse)
            let q5 = document.getElementById("q5_vrai").checked;
            rapport += "<li>Question 5 : " + (q5 ? "Correcte" : "Incorrecte") + "</li>";

            rapport += "</ul>";

            // Ouverture de la fenêtre de résultat
            let win = window.open("", "Resultat", "width=400,height=400");
            win.document.write(rapport);
        }
    </script>
</body>
</html>
